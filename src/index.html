<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  <title>Service Worker and IndexedDB</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css">
</head>

<body>
  <main class="container" id="app">
    <h1>Service Worker Example</h1>
    <a href="other.html">Other page</a>
    <br>
    <br>
    <a href="below/another.html">Another page</a>
  </main>
  <script>
    (function () {
      'use strict';

      if (!('serviceWorker' in navigator)) {
        console.log('ServiceWorker not supported');
        return;
      }

      navigator.serviceWorker.register('sw.bundle.js')
        .then(function () {
          console.log('ServiceWorker registered.')
        })
        .catch(function (error) {
          console.log('ServiceWorker registration failed: ', error)
        })

      if (!('indexedDB' in window)) {
        console.log('indexedDB not supported');
        return;
      }
    })();
  </script>
</body>

</html>
